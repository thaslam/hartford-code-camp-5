<div id="body">

    <section class="featured">
        <div class="content-wrapper">
            <hgroup class="title">
                <h1 data-bind="text: Title"></h1>
            </hgroup>
        </div>
    </section> 

    <section class="content-wrapper main-content clear-fix">
    <table id="log" cellpadding="2" cellspacing="0">
        <thead>
        <tr>
            <th align="left">Excercise</th>
            <th align="left">Date & Time</th>
            <th align="right">Lbs</th>
            <th align="right">Reps</th>
            <th></th>
        </tr>
        </thead>
        <tbody data-bind="foreach: Entries">
        <tr>
            <th data-bind="text: ExerciseName" align="left"></th>
            <td data-bind="text: DateAndTime" align="left"></td>
            <td data-bind="text: Lbs" align="right"></td>
            <td data-bind="text: Reps" align="right"></td>
            <td>
            <button data-bind="click: $parent.editEntry" class="btn"><span><span>Edit</span></span></button>&nbsp;
            <button data-bind="click: $parent.deleteEntry" class="btn"><span><span>Delete</span></span></button></td>
        </tr>
        <tr style="display: none;" data-bind="attr:{id: 'EditRow' + LogEntryID}">
            <td align="left"><input type="text" data-bind="value: ExerciseName" type="text" style="width: 300px;" /></td>
            <td align="left"><input type="text" data-bind="value: DateAndTime" style="width: 150px;" /></td>
            <td align="right"><input type="text" data-bind="value: Lbs" style="width: 50px;" /></td>
            <td align="right"><input type="text" data-bind="value: Reps" style="width: 50px;" /></td>
            <td align="left"><button data-bind="click: $parent.updateEntry" class="btn"><span><span>Save</span></span></button></td>
        </tr>
        </tbody>
        <tfoot>
        <tr><td colspan="5">Add New*</td></tr>
        <tr id="AddRow">
            <td align="left"><input id="NewExerciseName" type="text" style="width: 300px;" /></td>
            <td align="left"><input id="NewDateTime" type="text" style="width: 150px;" /></td>
            <td align="right"><input id="NewLbs" type="text" style="width: 50px;" /></td>
            <td align="right"><input id="NewReps" type="text" style="width: 50px;" /></td>
            <td align="left"><button onclick="addEntry();" class="btn"><span><span><b>Add</b></span></span></button>
        </tr>
        </tfoot>
    </table>    
    </section>

</div>

@section Scripts {
    
    <script type="text/javascript">
        // collect request information to be shared throughout js files
        // razor not allowed in external javascript file, could use NuGet pacakage RazorJS
        var request = {
            id: @Request.QueryString["id"]
        };

    </script>

    <script src="@Url.Content("~/Scripts/web-api-client-crud.js")"></script>
}

